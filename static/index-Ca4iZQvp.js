import{c as x}from"./client-BeRGLNS0.js";new TextEncoder;const w=Symbol(),$=Symbol();x({[w]:!1,[$]:!1});function f(a){return[/github\.com\/[^\/]+\/[^\/]+/,/qiita\.com\/[^\/]+\/items/,/qiita\.com\/tags/,/zenn\.dev\/[^\/]+\/articles/,/zenn\.dev\/[^\/]+\/books/,/zenn\.dev\/topics/,/dev\.classmethod\.jp\/articles/,/speakerdeck\.com\/[^\/]+\/[^\/]+/,/x\.com\/[^\/]+\/status/,/x\.com\/search/,/docswell\.com\/slide/].some(r=>r.test(a))?!1:[/https?:\/\/dev\.classmethod\.jp\/author\/[a-zA-Z0-9_-]+$/,/https?:\/\/github\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/zenn\.dev\/[a-zA-Z0-9_-]+$/,/https?:\/\/speakerdeck\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/x\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/qiita\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/www\.docswell\.com\/user\/[a-zA-Z0-9_-]+$/].some(r=>r.test(a))}function y(a){const n=/\[([^\]]+)\]\(([^)]+)\)/g;let e;for(;(e=n.exec(a))!==null;){const r=e[2];if(f(r))return!0}return!1}function k(a,n){if(!y(a))return a;const e={"dev.classmethod.jp":{name:"DevelopersIO",logo:"amazonaws",color:"orange",usernameRegex:/dev\.classmethod\.jp\/author\/([^\/\s\)]+)/},"github.com":{name:"GitHub",logo:"github",color:"black",usernameRegex:/github\.com\/([^\/\s\)]+)/},"zenn.dev":{name:"Zenn",logo:"zenn",color:"blue",usernameRegex:/zenn\.dev\/([^\/\s\)]+)/},"speakerdeck.com":{name:"Speaker--Deck",logo:"speakerdeck",color:"green",usernameRegex:/speakerdeck\.com\/([^\/\s\)]+)/},"x.com":{name:"X",logo:"x",color:"black",usernameRegex:/x\.com\/([^\/\s\)]+)/},"qiita.com":{name:"Qiita",logo:"qiita",color:"brightgreen",usernameRegex:/qiita\.com\/([^\/\s\)]+)/},"www.docswell.com":{name:"Docswell",logo:"readthedocs",color:"blue",usernameRegex:/www\.docswell\.com\/user\/([^\/\s\)]+)/}};let r=a;return Object.entries(e).forEach(([s,t])=>{const l=new RegExp(`\\[([^\\]]+)\\]\\(https?://${s.replace(/\./g,"\\.")}[^\\)]*\\)`,"g");r=r.replace(l,o=>{try{const c=o.match(/\[([^\]]+)\]\(([^)]+)\)/);if(!c)return o;const i=c[2];if(!f(i))return o;const b=o.match(t.usernameRegex),h=b?b[1]:"";if(h){const m=encodeURIComponent(`${t.name}-@${h}`),p=encodeURIComponent(t.logo),u=encodeURIComponent(t.color),g=`https://img.shields.io/badge/${m}-${u}?style=flat&logo=${p}`;return`<a href="${i}" target="_blank" rel="noopener"><img src="${g}" alt="${t.name}" /></a>`}else{const m=encodeURIComponent(t.name),p=encodeURIComponent(t.logo),u=encodeURIComponent(t.color),g=`https://img.shields.io/badge/${m}-${u}?style=flat&logo=${p}`;return`<a href="${i}" target="_blank" rel="noopener"><img src="${g}" alt="${t.name}" /></a>`}}catch(c){return console.warn("Error converting account link:",c),o}})}),r}function d(a){return a.replace(/\*\*([^*]+)\*\*/g,'<strong class="font-bold">$1</strong>').replace(new RegExp("(?<!\\*)\\*([^*]+)\\*(?!\\*)","g"),'<em class="italic">$1</em>').replace(/`([^`]+)`/g,'<code class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200 shadow-sm hover:bg-blue-200 transition-colors duration-200">$1</code>')}function v(a){const n=a.trim().split(`
`);let e="",r=0;for(;r<n.length;){const s=n[r].trim();if(s==="---"){e+='<hr class="my-6 border-t border-gray-200">',r++;continue}if(s.startsWith("- ")){let l=s.substring(2).replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>');l=d(l),e+=`<li class="ml-4 mb-2 flex items-start"><span class="mr-2 text-blue-500">•</span><span>${l}</span></li>`,r++;continue}if(s.includes("|")&&n[r+1]&&n[r+1].includes("---")){const t=s.split("|").map(o=>o.trim()).filter(o=>o);if(n[r+1].includes("---")){for(e+='<div class="overflow-x-auto my-4"><table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm"><thead class="bg-gray-50"><tr>',t.forEach(o=>{let c=o.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>');c=d(c),e+=`<th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200">${c}</th>`}),e+='</tr></thead><tbody class="divide-y divide-gray-200">',r+=2;r<n.length&&n[r].trim().includes("|");){const o=n[r].trim().split("|").map(c=>c.trim()).filter(c=>c);o.length>0&&(e+='<tr class="hover:bg-gray-50">',o.forEach(c=>{let i=c.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>');i=d(i),e+=`<td class="px-4 py-3 text-sm text-gray-900 border-b border-gray-200">${i}</td>`}),e+="</tr>"),r++}e+="</tbody></table></div>",r--}else{let o=s.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>');o=d(o),e+=o+"<br>"}}else if(s){let t=s.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>');t=d(t),e+=t+"<br>"}else e+="<br>";r++}return e}function R(a){const n=/- \[([^\]]+)\]\((https:\/\/(?:speakerdeck\.com\/player\/|www\.docswell\.com\/slide\/[^/]+\/embed?)[^)]+)\)/g;return a.replace(n,(e,r,s)=>{let t=r,l="";return s.includes("speakerdeck.com")?(t=r.replace(/\s*\\?\s*-\s*Speaker\s*Deck\s*$/i,""),l="speakerdeck-iframe"):s.includes("docswell.com")&&(t=r.replace(/\s*\|\s*ドクセル\s*$/i,""),l="docswell-iframe"),`<iframe class="${l}" frameborder="0" src="${s}" title="${t}" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 315;" data-ratio="1.7777777777777777"></iframe>`})}function C(a){const n=/- \[([^\]]+)\]\((https:\/\/www\.youtube\.com\/embed\/[^\)]+)\)/g,e=/\[([^\]]+)\]\((https:\/\/www\.youtube\.com\/embed\/[^\)]+)\)/g,r="width: 100%; height: auto; aspect-ratio: 560 / 315; border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px;";let s=a.replace(n,(t,l,o)=>`<iframe style="${r}" src="${o}" title="${l}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`);return s=s.replace(e,(t,l,o)=>`<iframe style="${r}" src="${o}" title="${l}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`),s}function z(a){const n=/- \[([^\]]+)\]\((https:\/\/(?:dev\.classmethod\.jp\/articles\/[^)]+|qiita\.com\/[^\/]+\/items\/[^)]+|zenn\.dev\/[^\/]+\/articles\/[^)]+))\)/g;return a.replace(n,(e,r,s)=>`<iframe class="hatenablogcard" style="width:100%;height:155px;max-width:680px;" title="${r}" src="https://hatenablog-parts.com/embed?url=${encodeURIComponent(s)}" width="300" height="150" frameborder="0" scrolling="no"></iframe>`)}function _(a,n){if(!a.trim())return"";let e=C(a);return e=R(e),e=z(e),e=k(e),e=d(e),v(e)}export{_ as r};
